# ä¼ä¸šä»»åŠ¡äº¤æ¥ä¸æ´¾å‘ç³»ç»Ÿæ•°æ®åº“è®¾è®¡

## ğŸ“‹ è¡¨ç»“æ„æ€»è§ˆ

### æ ¸å¿ƒä¸šåŠ¡è¡¨
1. **company** - å…¬å¸è¡¨
2. **department** - éƒ¨é—¨è¡¨  
3. **position** - èŒä½è¡¨
4. **user** - ç”¨æˆ·è¡¨ï¼ˆç™»å½•è®¤è¯ï¼‰
5. **employee** - å‘˜å·¥è¡¨ï¼ˆä¸šåŠ¡ä¿¡æ¯ï¼‰
6. **role** - è§’è‰²è¡¨
7. **position_role** - èŒä½è§’è‰²å…³è”è¡¨ï¼ˆå‘˜å·¥é€šè¿‡èŒä½è·å¾—è§’è‰²æƒé™ï¼‰

### ä»»åŠ¡ç›¸å…³è¡¨
8. **task** - ä»»åŠ¡è¡¨
9. **task_node** - ä»»åŠ¡èŠ‚ç‚¹è¡¨
10. **task_log** - ä»»åŠ¡æ—¥å¿—è¡¨
11. **task_handover** - ä»»åŠ¡äº¤æ¥è¡¨

### ç³»ç»ŸåŠŸèƒ½è¡¨
12. **notification** - é€šçŸ¥è¡¨
13. **user_permission** - ç”¨æˆ·æƒé™è¡¨
14. **system_config** - ç³»ç»Ÿé…ç½®è¡¨
15. **operation_log** - æ“ä½œæ—¥å¿—è¡¨

## ğŸ”— è¡¨å…³è”å…³ç³»

### ä¸»è¦å¤–é”®å…³ç³»
```
company (1) â†â†’ (N) department
company (1) â†â†’ (N) employee
company (1) â†â†’ (N) role
company (1) â†â†’ (N) task

department (1) â†â†’ (N) position
department (1) â†â†’ (N) employee
department (1) â†â†’ (N) task_node
department (1) â†â†’ (1) department (parent_id)

user (1) â†â†’ (1) employee
user (1) â†â†’ (N) user_permission

position (N) â†â†’ (N) role (é€šè¿‡ position_role)
employee (1) â†â†’ (1) position (é€šè¿‡ employee.position_idï¼Œå‘˜å·¥é€šè¿‡èŒä½è·å¾—è§’è‰²æƒé™)
employee (1) â†â†’ (N) task (creator/assigner)
employee (1) â†â†’ (N) task_node (executor/leader)
employee (1) â†â†’ (N) task_log
employee (1) â†â†’ (N) task_handover
employee (1) â†â†’ (N) notification

task (1) â†â†’ (N) task_node
task (1) â†â†’ (N) task_log
task (1) â†â†’ (N) task_handover
```

## âš ï¸ é‡è¦è®¾è®¡è¯´æ˜

### 1. ç”¨æˆ·ä¸å‘˜å·¥åˆ†ç¦»
- **userè¡¨**: çº¯ç™»å½•è®¤è¯ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ã€åŸºç¡€ä¸ªäººä¿¡æ¯ï¼‰
- **employeeè¡¨**: ä¸šåŠ¡ç›¸å…³ä¿¡æ¯ï¼ˆå·¥å·ã€éƒ¨é—¨ã€èŒä½ã€æŠ€èƒ½ç­‰ï¼‰
- ä¸€ä¸ªç”¨æˆ·åªèƒ½å¯¹åº”ä¸€ä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥åªèƒ½å¯¹åº”ä¸€ä¸ªç”¨æˆ·

### 2. æƒé™ç®¡ç†
- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- æ”¯æŒå¤šè§’è‰²åˆ†é…
- æƒé™å¯ä»¥åŸºäºèœå•ã€æŒ‰é’®ã€æ¥å£ã€æ•°æ®çº§åˆ«

### 3. ä»»åŠ¡ç®¡ç†
- æ”¯æŒå•éƒ¨é—¨å’Œè·¨éƒ¨é—¨ä»»åŠ¡
- ä»»åŠ¡å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªèŠ‚ç‚¹
- æ¯ä¸ªèŠ‚ç‚¹æœ‰ç‹¬ç«‹çš„æ‰§è¡Œäººå’Œè´Ÿè´£äºº
- å®Œæ•´çš„ä»»åŠ¡äº¤æ¥æµç¨‹

### 4. é€šçŸ¥ç³»ç»Ÿ
- é€šçŸ¥å…³è”åˆ°å‘˜å·¥è€Œä¸æ˜¯ç”¨æˆ·
- æ”¯æŒå¤šç§é€šçŸ¥ç±»å‹å’Œä¼˜å…ˆçº§
- è®°å½•å‘é€è€…å’Œæ¥æ”¶è€…

### 5. å®¡è®¡æ—¥å¿—
- å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•
- æ”¯æŒç”¨æˆ·å’Œå‘˜å·¥åŒé‡å…³è”
- è®°å½•è¯·æ±‚å‚æ•°å’Œå“åº”æ•°æ®

## ğŸš€ ä½¿ç”¨å»ºè®®

### åˆ›å»ºé¡ºåº
```sql
-- 1. åŸºç¡€è¡¨
company â†’ department â†’ position â†’ user â†’ employee

-- 2. æƒé™è¡¨  
role â†’ position_role

-- 3. ä»»åŠ¡è¡¨
task â†’ task_node â†’ task_log â†’ task_handover

-- 4. åŠŸèƒ½è¡¨
notification â†’ user_permission â†’ system_config â†’ operation_log
```

### ç´¢å¼•ä¼˜åŒ–
- æ‰€æœ‰å¤–é”®å­—æ®µéƒ½æœ‰ç´¢å¼•
- å¸¸ç”¨æŸ¥è¯¢å­—æ®µéƒ½æœ‰ç´¢å¼•
- è½¯åˆ é™¤å­—æ®µæœ‰ç´¢å¼•
- æ—¶é—´å­—æ®µæœ‰ç´¢å¼•

### æ•°æ®å®Œæ•´æ€§
- ä½¿ç”¨å¤–é”®çº¦æŸä¿è¯æ•°æ®ä¸€è‡´æ€§
- è½¯åˆ é™¤è®¾è®¡ï¼Œä¿ç•™å†å²æ•°æ®
- çº§è”åˆ é™¤å’Œæ›´æ–°ç­–ç•¥åˆç†é…ç½®





