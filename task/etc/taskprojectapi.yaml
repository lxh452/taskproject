Name: taskprojectapi
Host: 0.0.0.0
Port: 8888
Mode: dev
Timeout: 30000

# 系统配置（用于拼接前端链接，例如邮件中的跳转地址）
System:
  BaseURL: "http://localhost:5173"

# 文件存储配置
FileStorage:
  StorageType: "cos"
  StorageRoot: "./upload"
  URLPrefix: "https://lxh452-task-1385490051.cos.ap-guangzhou.myqcloud.com"
  # 腾讯云COS配置
  # 环境变量：TENCENT_CLOUD_SECRET_ID 和 TENCENT_CLOUD_SECRET_KEY
  COS:
    SecretId: ""
    SecretKey: ""
    Bucket: "lxh452-task-1385490051"
    Region: "ap-guangzhou"

# 数据库配置
MySQL:
  DataSource: "root:Lxh17306642597@tcp(localhost:3306)/task_project?charset=utf8mb4&parseTime=true&loc=Local&timeout=120s&readTimeout=120s&writeTimeout=120s&maxAllowedPacket=67108864&collation=utf8mb4_unicode_ci"

# Redis配置
Redis:
  Host: "localhost"
  Port: 6379
  Password: ""
  DB: 0

# JWT配置
JWT:
  SecretKey: "A_terrible_and_irresponsible_Supervisor_yfzhou"
  ExpireTime: "24h"
  RefreshTime: "1h"
  Issuer: "task-project-api"
  Audience: "task-project-client"

# 邮件配置
Email:
  Enabled: true
  Host: "smtp.qq.com"
  Port: 587
  Username: "1844554263@qq.com"
  Password: "zzykyhnrubibdhif"
  From: "企业任务系统"
  UseTLS: true

# 短信配置
SMS:
  Provider: "aliyun"
  AccessKey: ""
  SecretKey: ""
  SignName: "企业任务系统"
  TemplateID: ""
  Endpoint: "https://dysmsapi.aliyuncs.com"
  Region: "cn-hangzhou"

# RabbitMQ配置
RabbitMQ:
  URL: "amqp://guest:guest@localhost:5672/"
  Exchange: "task.exchange"
  Queue: "task.queue"

# MongoDB配置 - temporarily disabled
Mongo:
  Host: ""
  Port: 27017
  Database: task_project
  Username: admin
  Password: "admin123"
  AuthSource: admin
  Collection: task_project
  Timeout: 10s
  MaxIdleConns: 10
  MaxOpenConns: 50
  MaxConnLifetime: 30m
  MaxConnIdleTime: 10m

# GLM AI配置（智谱AI - 用于智能任务派发）
# 环境变量：GLM_API_KEY
GLM:
  APIKey: "ec6e5721fb8840bf9fa4c5f1cf7c850f.tQ3feqUEtDF3Nvqj"
  BaseURL: "https://open.bigmodel.cn/api/paas/v4/chat/completions"
  Model: "glm-4.7"

# 限流配置
# 环境变量：RATE_LIMIT_ENABLED, RATE_LIMIT_LOGIN, RATE_LIMIT_API
RateLimit:
  Enabled: true           # 是否启用限流
  LoginLimit: 10          # 登录接口限制: 10次/分钟/IP
  APILimit: 100           # 普通API限制: 100次/分钟/用户
  BurstSize: 20           # 突发容量
  BlockDuration: 15       # 封禁时长(分钟)
